version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Installing frontend dependencies..."
        - cd frontend
        - npm ci
    build:
      commands:
        - echo "Building frontend application..."
        - npm run build
  artifacts:
    baseDirectory: frontend/dist
    files:
      - '**/*'
  cache:
    paths:
      - frontend/node_modules/**/*

# Backend API endpoints will be handled by:
# Option 1: AWS API Gateway + Lambda (recommended for production)
# Option 2: Amplify Backend (GraphQL/REST API)
# Option 3: Use existing backend handlers as Lambda functions

# For serverless deployment:
# 1. Convert backend handlers to Lambda functions
# 2. Use AWS API Gateway for REST endpoints
# 3. Store JWT_SECRET in AWS Secrets Manager or SSM Parameter Store
# 4. Use DynamoDB for user data instead of in-memory storage
